{"ast":null,"code":"// src/utils/sheetsAPI.js\nimport axios from \"axios\";\nconst baseURL = \"https://docs.google.com/spreadsheets/d/e/2PACX-1vRfS9cag5vyojc7Gb2fGfFOmfiKZW8xnroajn69I66oWlcYf0a92QcarW2BpPyfGz7ZoI9zNpxzdZ6e/pub?output=csv\";\nfunction parseCSV(csvText) {\n  const rows = csvText.split(\"\\n\").map(line => line.split(\",\"));\n  const headers = rows[0].map(h => h.trim());\n  const items = rows.slice(1).map(row => {\n    var _obj$Vegan, _obj$Vegetarian, _obj$GlutenFree;\n    const obj = Object.fromEntries(headers.map((h, i) => {\n      var _row$i;\n      return [h, ((_row$i = row[i]) === null || _row$i === void 0 ? void 0 : _row$i.trim()) || \"\"];\n    }));\n\n    // Format name for consistency\n    obj.Name = obj[\"Dish Name\"] || obj.Name || \"Unnamed Dish\";\n    obj.Allergens = obj[\"Allergen Tags\"] || \"\";\n\n    // Generate dietary tags from booleans\n    const diet = [];\n    if (((_obj$Vegan = obj[\"Vegan\"]) === null || _obj$Vegan === void 0 ? void 0 : _obj$Vegan.toLowerCase()) === \"yes\") diet.push(\"vegan\");\n    if (((_obj$Vegetarian = obj[\"Vegetarian\"]) === null || _obj$Vegetarian === void 0 ? void 0 : _obj$Vegetarian.toLowerCase()) === \"yes\") diet.push(\"vegetarian\");\n    if (((_obj$GlutenFree = obj[\"Gluten-Free\"]) === null || _obj$GlutenFree === void 0 ? void 0 : _obj$GlutenFree.toLowerCase()) === \"yes\") diet.push(\"glutenfree\");\n    obj[\"Dietary Tags\"] = diet.join(\", \");\n    return obj;\n  });\n  return items;\n}\nexport async function fetchMenu() {\n  const res = await axios.get(baseURL);\n  return parseCSV(res.data);\n}","map":{"version":3,"names":["axios","baseURL","parseCSV","csvText","rows","split","map","line","headers","h","trim","items","slice","row","_obj$Vegan","_obj$Vegetarian","_obj$GlutenFree","obj","Object","fromEntries","i","_row$i","Name","Allergens","diet","toLowerCase","push","join","fetchMenu","res","get","data"],"sources":["C:/Users/Home/Downloads/safebite-app/src/utils/sheetsAPI.js"],"sourcesContent":["// src/utils/sheetsAPI.js\nimport axios from \"axios\";\n\nconst baseURL =\n  \"https://docs.google.com/spreadsheets/d/e/2PACX-1vRfS9cag5vyojc7Gb2fGfFOmfiKZW8xnroajn69I66oWlcYf0a92QcarW2BpPyfGz7ZoI9zNpxzdZ6e/pub?output=csv\";\n\nfunction parseCSV(csvText) {\n  const rows = csvText.split(\"\\n\").map((line) => line.split(\",\"));\n  const headers = rows[0].map((h) => h.trim());\n  const items = rows.slice(1).map((row) => {\n    const obj = Object.fromEntries(\n      headers.map((h, i) => [h, row[i]?.trim() || \"\"])\n    );\n\n    // Format name for consistency\n    obj.Name = obj[\"Dish Name\"] || obj.Name || \"Unnamed Dish\";\n    obj.Allergens = obj[\"Allergen Tags\"] || \"\";\n    \n    // Generate dietary tags from booleans\n    const diet = [];\n    if (obj[\"Vegan\"]?.toLowerCase() === \"yes\") diet.push(\"vegan\");\n    if (obj[\"Vegetarian\"]?.toLowerCase() === \"yes\") diet.push(\"vegetarian\");\n    if (obj[\"Gluten-Free\"]?.toLowerCase() === \"yes\") diet.push(\"glutenfree\");\n    obj[\"Dietary Tags\"] = diet.join(\", \");\n\n    return obj;\n  });\n\n  return items;\n}\n\nexport async function fetchMenu() {\n  const res = await axios.get(baseURL);\n  return parseCSV(res.data);\n}\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GACX,gJAAgJ;AAElJ,SAASC,QAAQA,CAACC,OAAO,EAAE;EACzB,MAAMC,IAAI,GAAGD,OAAO,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC;EAC/D,MAAMG,OAAO,GAAGJ,IAAI,CAAC,CAAC,CAAC,CAACE,GAAG,CAAEG,CAAC,IAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EAC5C,MAAMC,KAAK,GAAGP,IAAI,CAACQ,KAAK,CAAC,CAAC,CAAC,CAACN,GAAG,CAAEO,GAAG,IAAK;IAAA,IAAAC,UAAA,EAAAC,eAAA,EAAAC,eAAA;IACvC,MAAMC,GAAG,GAAGC,MAAM,CAACC,WAAW,CAC5BX,OAAO,CAACF,GAAG,CAAC,CAACG,CAAC,EAAEW,CAAC;MAAA,IAAAC,MAAA;MAAA,OAAK,CAACZ,CAAC,EAAE,EAAAY,MAAA,GAAAR,GAAG,CAACO,CAAC,CAAC,cAAAC,MAAA,uBAANA,MAAA,CAAQX,IAAI,CAAC,CAAC,KAAI,EAAE,CAAC;IAAA,EACjD,CAAC;;IAED;IACAO,GAAG,CAACK,IAAI,GAAGL,GAAG,CAAC,WAAW,CAAC,IAAIA,GAAG,CAACK,IAAI,IAAI,cAAc;IACzDL,GAAG,CAACM,SAAS,GAAGN,GAAG,CAAC,eAAe,CAAC,IAAI,EAAE;;IAE1C;IACA,MAAMO,IAAI,GAAG,EAAE;IACf,IAAI,EAAAV,UAAA,GAAAG,GAAG,CAAC,OAAO,CAAC,cAAAH,UAAA,uBAAZA,UAAA,CAAcW,WAAW,CAAC,CAAC,MAAK,KAAK,EAAED,IAAI,CAACE,IAAI,CAAC,OAAO,CAAC;IAC7D,IAAI,EAAAX,eAAA,GAAAE,GAAG,CAAC,YAAY,CAAC,cAAAF,eAAA,uBAAjBA,eAAA,CAAmBU,WAAW,CAAC,CAAC,MAAK,KAAK,EAAED,IAAI,CAACE,IAAI,CAAC,YAAY,CAAC;IACvE,IAAI,EAAAV,eAAA,GAAAC,GAAG,CAAC,aAAa,CAAC,cAAAD,eAAA,uBAAlBA,eAAA,CAAoBS,WAAW,CAAC,CAAC,MAAK,KAAK,EAAED,IAAI,CAACE,IAAI,CAAC,YAAY,CAAC;IACxET,GAAG,CAAC,cAAc,CAAC,GAAGO,IAAI,CAACG,IAAI,CAAC,IAAI,CAAC;IAErC,OAAOV,GAAG;EACZ,CAAC,CAAC;EAEF,OAAON,KAAK;AACd;AAEA,OAAO,eAAeiB,SAASA,CAAA,EAAG;EAChC,MAAMC,GAAG,GAAG,MAAM7B,KAAK,CAAC8B,GAAG,CAAC7B,OAAO,CAAC;EACpC,OAAOC,QAAQ,CAAC2B,GAAG,CAACE,IAAI,CAAC;AAC3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}