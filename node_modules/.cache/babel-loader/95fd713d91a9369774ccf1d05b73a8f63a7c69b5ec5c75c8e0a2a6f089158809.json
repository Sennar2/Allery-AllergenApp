{"ast":null,"code":"// src/utils/sheetsAPI.js\nimport axios from \"axios\";\nconst baseURL = \"https://docs.google.com/spreadsheets/d/e/2PACX-1vRfS9cag5vyojc7Gb2fGfFOmfiKZW8xnroajn69I66oWlcYf0a92QcarW2BpPyfGz7ZoI9zNpxzdZ6e/pub?output=csv\";\nfunction parseCSV(csvText) {\n  const rows = csvText.split(\"\\n\").map(line => line.split(\",\"));\n  const headers = rows[0].map(h => h.trim());\n  const items = rows.slice(1).map(row => Object.fromEntries(headers.map((h, i) => {\n    var _row$i;\n    return [h, ((_row$i = row[i]) === null || _row$i === void 0 ? void 0 : _row$i.trim()) || \"\"];\n  })));\n  return items;\n}\nexport async function fetchMenu(tab) {\n  var _parsed$;\n  const res = await axios.get(baseURL);\n  const parsed = parseCSV(res.data);\n\n  // Only filter if a \"Type\" column exists\n  const hasType = ((_parsed$ = parsed[0]) === null || _parsed$ === void 0 ? void 0 : _parsed$.Type) !== undefined;\n  return hasType ? parsed.filter(item => item.Type === tab) : parsed;\n}","map":{"version":3,"names":["axios","baseURL","parseCSV","csvText","rows","split","map","line","headers","h","trim","items","slice","row","Object","fromEntries","i","_row$i","fetchMenu","tab","_parsed$","res","get","parsed","data","hasType","Type","undefined","filter","item"],"sources":["C:/Users/Home/Downloads/safebite-app/src/utils/sheetsAPI.js"],"sourcesContent":["// src/utils/sheetsAPI.js\nimport axios from \"axios\";\n\nconst baseURL =\n  \"https://docs.google.com/spreadsheets/d/e/2PACX-1vRfS9cag5vyojc7Gb2fGfFOmfiKZW8xnroajn69I66oWlcYf0a92QcarW2BpPyfGz7ZoI9zNpxzdZ6e/pub?output=csv\";\n\nfunction parseCSV(csvText) {\n  const rows = csvText.split(\"\\n\").map((line) => line.split(\",\"));\n  const headers = rows[0].map(h => h.trim());\n  const items = rows.slice(1).map(row =>\n    Object.fromEntries(\n      headers.map((h, i) => [h, row[i]?.trim() || \"\"])\n    )\n  );\n  return items;\n}\n\nexport async function fetchMenu(tab) {\n  const res = await axios.get(baseURL);\n  const parsed = parseCSV(res.data);\n\n  // Only filter if a \"Type\" column exists\n  const hasType = parsed[0]?.Type !== undefined;\n  return hasType ? parsed.filter(item => item.Type === tab) : parsed;\n}\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GACX,gJAAgJ;AAElJ,SAASC,QAAQA,CAACC,OAAO,EAAE;EACzB,MAAMC,IAAI,GAAGD,OAAO,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC;EAC/D,MAAMG,OAAO,GAAGJ,IAAI,CAAC,CAAC,CAAC,CAACE,GAAG,CAACG,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EAC1C,MAAMC,KAAK,GAAGP,IAAI,CAACQ,KAAK,CAAC,CAAC,CAAC,CAACN,GAAG,CAACO,GAAG,IACjCC,MAAM,CAACC,WAAW,CAChBP,OAAO,CAACF,GAAG,CAAC,CAACG,CAAC,EAAEO,CAAC;IAAA,IAAAC,MAAA;IAAA,OAAK,CAACR,CAAC,EAAE,EAAAQ,MAAA,GAAAJ,GAAG,CAACG,CAAC,CAAC,cAAAC,MAAA,uBAANA,MAAA,CAAQP,IAAI,CAAC,CAAC,KAAI,EAAE,CAAC;EAAA,EACjD,CACF,CAAC;EACD,OAAOC,KAAK;AACd;AAEA,OAAO,eAAeO,SAASA,CAACC,GAAG,EAAE;EAAA,IAAAC,QAAA;EACnC,MAAMC,GAAG,GAAG,MAAMrB,KAAK,CAACsB,GAAG,CAACrB,OAAO,CAAC;EACpC,MAAMsB,MAAM,GAAGrB,QAAQ,CAACmB,GAAG,CAACG,IAAI,CAAC;;EAEjC;EACA,MAAMC,OAAO,GAAG,EAAAL,QAAA,GAAAG,MAAM,CAAC,CAAC,CAAC,cAAAH,QAAA,uBAATA,QAAA,CAAWM,IAAI,MAAKC,SAAS;EAC7C,OAAOF,OAAO,GAAGF,MAAM,CAACK,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACH,IAAI,KAAKP,GAAG,CAAC,GAAGI,MAAM;AACpE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}