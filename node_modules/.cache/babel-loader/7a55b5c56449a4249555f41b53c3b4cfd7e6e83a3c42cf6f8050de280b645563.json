{"ast":null,"code":"// src/utils/sheetsAPI.js\nimport axios from \"axios\";\nconst baseURL = \"https://docs.google.com/spreadsheets/d/e/2PACX-1vRfS9cag5vyojc7Gb2fGfFOmfiKZW8xnroajn69I66oWlcYf0a92QcarW2BpPyfGz7ZoI9zNpxzdZ6e/pub?output=csv\";\nfunction parseCSV(csvText) {\n  const lines = csvText.trim().split(\"\\n\");\n  const rows = lines.map(line => line.split(\",\"));\n  return rows.slice(1).map(row => {\n    var _row$, _row$2, _row$3, _row$4, _row$5, _row$6, _row$7, _row$8, _row$9, _row$0, _obj$Vegan, _obj$Vegetarian, _obj$GlutenFree;\n    const obj = {\n      Name: (_row$ = row[0]) === null || _row$ === void 0 ? void 0 : _row$.trim(),\n      // Dish Name\n      Ingredients: (_row$2 = row[1]) === null || _row$2 === void 0 ? void 0 : _row$2.trim(),\n      Category: (_row$3 = row[2]) === null || _row$3 === void 0 ? void 0 : _row$3.trim(),\n      Price: (_row$4 = row[3]) === null || _row$4 === void 0 ? void 0 : _row$4.trim(),\n      Allergens: (_row$5 = row[4]) === null || _row$5 === void 0 ? void 0 : _row$5.trim(),\n      \"Spicy Level\": (_row$6 = row[5]) === null || _row$6 === void 0 ? void 0 : _row$6.trim(),\n      Vegan: (_row$7 = row[6]) === null || _row$7 === void 0 ? void 0 : _row$7.trim(),\n      Vegetarian: (_row$8 = row[7]) === null || _row$8 === void 0 ? void 0 : _row$8.trim(),\n      \"Gluten-Free\": (_row$9 = row[8]) === null || _row$9 === void 0 ? void 0 : _row$9.trim(),\n      Notes: (_row$0 = row[9]) === null || _row$0 === void 0 ? void 0 : _row$0.trim()\n    };\n\n    // Generate Dietary Tags from columns\n    const diet = [];\n    if (((_obj$Vegan = obj.Vegan) === null || _obj$Vegan === void 0 ? void 0 : _obj$Vegan.toLowerCase()) === \"yes\") diet.push(\"vegan\");\n    if (((_obj$Vegetarian = obj.Vegetarian) === null || _obj$Vegetarian === void 0 ? void 0 : _obj$Vegetarian.toLowerCase()) === \"yes\") diet.push(\"vegetarian\");\n    if (((_obj$GlutenFree = obj[\"Gluten-Free\"]) === null || _obj$GlutenFree === void 0 ? void 0 : _obj$GlutenFree.toLowerCase()) === \"yes\") diet.push(\"glutenfree\");\n    obj[\"Dietary Tags\"] = diet.join(\", \");\n    return obj;\n  });\n}\nexport async function fetchMenu() {\n  const res = await axios.get(baseURL);\n  return parseCSV(res.data);\n}","map":{"version":3,"names":["axios","baseURL","parseCSV","csvText","lines","trim","split","rows","map","line","slice","row","_row$","_row$2","_row$3","_row$4","_row$5","_row$6","_row$7","_row$8","_row$9","_row$0","_obj$Vegan","_obj$Vegetarian","_obj$GlutenFree","obj","Name","Ingredients","Category","Price","Allergens","Vegan","Vegetarian","Notes","diet","toLowerCase","push","join","fetchMenu","res","get","data"],"sources":["C:/Users/Home/Downloads/safebite-app/src/utils/sheetsAPI.js"],"sourcesContent":["// src/utils/sheetsAPI.js\nimport axios from \"axios\";\n\nconst baseURL =\n  \"https://docs.google.com/spreadsheets/d/e/2PACX-1vRfS9cag5vyojc7Gb2fGfFOmfiKZW8xnroajn69I66oWlcYf0a92QcarW2BpPyfGz7ZoI9zNpxzdZ6e/pub?output=csv\";\n\nfunction parseCSV(csvText) {\n  const lines = csvText.trim().split(\"\\n\");\n  const rows = lines.map((line) => line.split(\",\"));\n\n  return rows.slice(1).map((row) => {\n    const obj = {\n      Name: row[0]?.trim(), // Dish Name\n      Ingredients: row[1]?.trim(),\n      Category: row[2]?.trim(),\n      Price: row[3]?.trim(),\n      Allergens: row[4]?.trim(),\n      \"Spicy Level\": row[5]?.trim(),\n      Vegan: row[6]?.trim(),\n      Vegetarian: row[7]?.trim(),\n      \"Gluten-Free\": row[8]?.trim(),\n      Notes: row[9]?.trim(),\n    };\n\n    // Generate Dietary Tags from columns\n    const diet = [];\n    if (obj.Vegan?.toLowerCase() === \"yes\") diet.push(\"vegan\");\n    if (obj.Vegetarian?.toLowerCase() === \"yes\") diet.push(\"vegetarian\");\n    if (obj[\"Gluten-Free\"]?.toLowerCase() === \"yes\") diet.push(\"glutenfree\");\n    obj[\"Dietary Tags\"] = diet.join(\", \");\n\n    return obj;\n  });\n}\n\nexport async function fetchMenu() {\n  const res = await axios.get(baseURL);\n  return parseCSV(res.data);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}